(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,function(e,t,n){e.exports=n(24)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),c=(n(7),n(9)),i=n(6),s=n(1),u=n(2),h=n(5),d=n(3),p=n(4),m=12,f="https://sheltered-fjord-20698.herokuapp.com/ceftchyui";var v=function(e,t,n,a){fetch(e,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){if(!e.ok)throw Error(e.status+"; "+e.statusText);return e.json()}).then(function(e){n(e)}).catch(function(e){a(e),console.log("in load crossword catch error -"+e)})},b=function(e,t){return function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(h.a)(this,Object(d.a)(n).call(this,e))).convJSONtoMap=function(e){var n=new Map,a=[],r=e,o=!0,l=!1,s=void 0;try{for(var u,h=r.cw.a[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){for(var d=u.value,p=d.c.split("-"),m=Object(i.a)(p,2),f=m[0],v=m[1],b=Object(c.a)(d.w),C=0;C<d.w.length;C++)n.set(f+"-"+(+v+C),b[C]);a.push({c:d.c,d:d.d,o:"a",l:d.w.length})}}catch(N){l=!0,s=N}finally{try{o||null==h.return||h.return()}finally{if(l)throw s}}var k=!0,y=!1,S=void 0;try{for(var g,w=r.cw.d[Symbol.iterator]();!(k=(g=w.next()).done);k=!0){for(var E=g.value,O=E.c.split("-"),j=Object(i.a)(O,2),I=(f=j[0],v=j[1],Object(c.a)(E.w)),M=0;M<E.w.length;M++)n.set(+f+M+"-"+v,I[M]);a.push({c:E.c,d:E.d,o:"d",l:E.w.length})}}catch(N){y=!0,S=N}finally{try{k||null==w.return||w.return()}finally{if(y)throw S}}t.setState(function(e){return{charMap:n,workingMap:new Map,defItems:a,hasLoadFailed:!1,currIndex:++e.currIndex}})},t.onChange=function(e,n){var a=t.state.workingMap;a.set(e,n),t.setState({workingMap:a}),function(e,t){if(e.size!==t.size)return!1;var n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=o.value,s=Object(i.a)(c,2),u=s[0],h=s[1];if(t.get(u).toUpperCase()!==h.toUpperCase())return!1}}catch(d){a=!0,r=d}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return!0}(t.state.charMap,t.state.workingMap)?t.setState({isSolved:!0}):t.setState({isSolved:!1})},t.onClick=function(e){t.setState({clickedCell:e})},t.onLoadErr=function(e){t.setState({hasLoadFailed:!0})},t.onSubmit=function(){t.resetState(),v(f,{theme:t.state.theme,count:t.state.currIndex},t.convJSONtoMap,t.onLoadErr)},t.onThemeChange=function(e){var n=e.target.value;t.setState({theme:n})},t.onSolveClick=function(){t.setState({isSolved:!0})},t.resetState=function(){t.setState(function(e){return{charMap:null,workingMap:null,clickedCell:null,defItems:null,isSolved:!1,hasLoadFailed:!1}})},t.state={charMap:null,workingMap:null,theme:"G",clickedCell:null,defItems:null,isSolved:!1,currIndex:0,hasLoadFailed:!1},t}return Object(p.a)(n,t),Object(u.a)(n,[{key:"componentDidMount",value:function(){v(f,{theme:"G",count:0},this.convJSONtoMap,this.onLoadErr)}},{key:"render",value:function(){var t=this;return this.state.charMap?r.a.createElement(e,{charMap:this.state.charMap,defItems:this.state.defItems,clickedCell:this.state.clickedCell,isSolved:this.state.isSolved,theme:this.state.theme,currIndex:this.state.currIndex,onThemeChange:this.onThemeChange,onSubmit:this.onSubmit,onChange:function(e,n){return t.onChange(e,n)},onClick:function(e){return t.onClick(e)},onSolveClick:this.onSolveClick}):r.a.createElement("div",null," ",this.state.hasLoadFailed?r.a.createElement("p",null," Sorry...There was an error in fetching crossword from server"):r.a.createElement("h3",null,"Loading.....")," ")}}]),n}(r.a.Component)},C=(n(18),function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(this.props.coord,e.target.value)}},{key:"handleClick",value:function(e,t){this.props.onClick(e)}},{key:"render",value:function(){var e=this.props.isSelected?{backgroundColor:"#84B198"}:{};return void 0!==this.props.coord?r.a.createElement("div",{onClick:this.handleClick.bind(this,this.props.coord),className:"enabled-cell",style:e}," ",r.a.createElement("input",Object.assign({name:this.props.coord,maxLength:"1",type:"text",style:{backgroundColor:"inherit"}},void 0==this.props.charValue&&{onChange:this.handleChange.bind(this)},void 0!==this.props.charValue&&{value:this.props.charValue}))," ",this.props.showCoord&&r.a.createElement("label",{htmlFor:this.props.coord,style:{backgroundColor:"inherit"}}," ",r.a.createElement("sup",null,this.props.coord)," ")," "):r.a.createElement("div",{className:"disabled-cell"}," ")}}]),t}(a.PureComponent)),k=(n(19),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).renderCell=function(e,t,a){var o=e+"-"+t,l=!(!a.length||!a.includes(o)),c=n.props.isSolved?n.props.charMap.get(o):void 0;return void 0!==n.props.charMap.get(o)?r.a.createElement(C,{key:o,coord:o,showCoord:void 0!==n.props.defItems.find(function(e){return e.c===o}),isSelected:l,onChange:n.props.onChange,onClick:n.props.onClick,charValue:c}):r.a.createElement(C,{key:o})},n.renderGrid=function(){var e=[],t=n.props.clickedCell,a=[];if(null!=t){var o=n.props.defItems.filter(function(e){return e.c===t}),l=!0,c=!1,s=void 0;try{for(var u,h=o[Symbol.iterator]();!(l=(u=h.next()).done);l=!0){var d=u.value;if("a"===d.o)for(var p=t.split("-"),f=Object(i.a)(p,2),v=f[0],b=f[1],C=0;C<d.l;C++)a.push(v+"-"+b++);else for(var k=t.split("-"),y=Object(i.a)(k,2),S=y[0],g=y[1],w=0;w<d.l;w++)a.push(S+++"-"+g)}}catch(I){c=!0,s=I}finally{try{l||null==h.return||h.return()}finally{if(c)throw s}}}for(var E=1;E<=m;E++){for(var O=[],j=1;j<=m;j++)O.push(n.renderCell(E,j,a));e.push(r.a.createElement("div",{key:E,className:"cw-row"},O))}return r.a.createElement("div",{className:"column"},e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){return this.renderGrid()}}]),t}(r.a.Component)),y=(n(20),function(e){function t(e){return Object(s.a)(this,t),Object(h.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e,t){this.props.onClick(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.clickedCell!==e.clickedCell||this.props.defItems!==e.defItems}},{key:"render",value:function(){var e=this.props.defItems,t=[],n=[],a=!0,o=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var s=c.value,u=this.props.clickedCell===s.c?{backgroundColor:"#84B198"}:{};"a"===s.o?t.push(r.a.createElement("dd",{key:s.c,style:u,onClick:this.handleClick.bind(this,s.c)}," ",s.c+" ("+s.l+"): "+s.d," ")):n.push(r.a.createElement("dd",{key:s.c,style:u,onClick:this.handleClick.bind(this,s.c)}," ",s.c+" ("+s.l+"): "+s.d," "))}}catch(h){o=!0,l=h}finally{try{a||null==i.return||i.return()}finally{if(o)throw l}}return r.a.createElement("div",{className:"column"},r.a.createElement("dl",{className:"listtext"},r.a.createElement("dt",null,"Across"),t,r.a.createElement("dt",null,"Down"),n))}}]),t}(r.a.Component)),S=n(8),g=(n(21),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(S.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),4==this.props.currIndex?alert("Sorry, a maximum of 5 crosswords can be fetched for a day."):this.props.onSubmit()}},{key:"render",value:function(){return r.a.createElement("form",{className:"theme-form",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"theme-item theme-label"}," Theme "),r.a.createElement("select",{className:"select-css",value:this.props.theme,onChange:this.props.onThemeChange},r.a.createElement("option",{value:"G"},"General"),r.a.createElement("option",{value:"P"},"Psychology"),r.a.createElement("option",{value:"L"},"Legal")),r.a.createElement("input",{className:"theme-item button buttondarklarge",type:"submit",value:"Get Crossword"}))}}]),t}(a.PureComponent)),w=(n(22),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).onClueClick=function(){" "==n.props.clueValue?alert("Value of cell you last clicked is Spacebar"):void 0===n.props.clueValue?alert("You have not clicked on any crossword cell yet."):alert("Value of cell you last clicked is "+n.props.clueValue)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tool-bar"},r.a.createElement("div",{className:"button buttongraysmall tool-item",onClick:this.onClueClick},"Clue"),r.a.createElement("div",{className:"button buttongraysmall tool-item",onClick:this.props.onSolveClick},"Solve"))}}]),t}(a.PureComponent)),E=b(function(e){return r.a.createElement("div",{className:"crossword"},r.a.createElement(g,{onSubmit:e.onSubmit,onThemeChange:e.onThemeChange,theme:e.theme,currIndex:e.currIndex}),r.a.createElement(k,e),r.a.createElement(y,{defItems:e.defItems,onClick:e.onClick,clickedCell:e.clickedCell}),r.a.createElement(w,{clueValue:e.charMap.get(e.clickedCell),onSolveClick:e.onSolveClick}),r.a.createElement("div",{className:"checkSolved"},e.isSolved&&r.a.createElement("span",null," ",r.a.createElement("h1",null,"\u2713"),"  ")))}),O=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"a barebones Crossword built with React by",r.a.createElement("a",{href:"http://www.disruptive-dna.com"}," disruptiveDNA ")))};var j=function(){return r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(23);l.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[12,1,2]]]);
//# sourceMappingURL=main.9b8af037.chunk.js.map